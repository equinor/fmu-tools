

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fmu.tools.rms package &mdash; fmu-tools 1.19.1.dev2+g23f2b9e documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=d266690a"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="fmu.tools.utilities package" href="fmu.tools.utilities.html" />
    <link rel="prev" title="fmu.tools.qcforward package" href="fmu.tools.qcforward.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            fmu-tools
              <img src="_static/equinor-logo2.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="readme.html">fmu-tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="fmudesign.html">FMU design matrix</a></li>
<li class="toctree-l1"><a class="reference internal" href="qcforward.html">The qcforward functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="qcproperties.html">The qcproperties class</a></li>
<li class="toctree-l1"><a class="reference internal" href="qcreset.html">The qcreset module</a></li>
<li class="toctree-l1"><a class="reference internal" href="generate_petro_jobs_for_field_update.html">rms.generate_petro_jobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="properties.html">The properties package</a></li>
<li class="toctree-l1"><a class="reference internal" href="domain_conversion.html">Domain conversion</a></li>
<li class="toctree-l1"><a class="reference internal" href="create_rft_ertobs.html">create_rft_ertobs</a></li>
<li class="toctree-l1"><a class="reference internal" href="rename_rms_scripts.html">rms.rename_rms_scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="rms_import_localmodule.html">rms.import_localmodule</a></li>
<li class="toctree-l1"><a class="reference internal" href="generate_bw_per_facies.html">rms.create_bw_per_facies</a></li>
<li class="toctree-l1"><a class="reference internal" href="update_petro_real.html">rms.update_petro_parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="export_and_import_fields.html">rms.export_and_import_field_parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="utilities.html">The fmu-tools utilities package</a></li>
<li class="toctree-l1"><a class="reference internal" href="rmsvolumetrics2csv.html">rmsvolumetrics2csv</a></li>
<li class="toctree-l1"><a class="reference internal" href="ensembles.html">Ensembles</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">API for fmu.tools</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="fmu.html">fmu package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="fmu.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="fmu.tools.html">fmu.tools package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmu.html#module-fmu">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fmu-tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules.html">API for fmu.tools</a></li>
          <li class="breadcrumb-item"><a href="fmu.html">fmu package</a></li>
          <li class="breadcrumb-item"><a href="fmu.tools.html">fmu.tools package</a></li>
      <li class="breadcrumb-item active">fmu.tools.rms package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/fmu.tools.rms.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fmu-tools-rms-package">
<h1>fmu.tools.rms package<a class="headerlink" href="#fmu-tools-rms-package" title="Link to this heading"></a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Link to this heading"></a></h2>
</section>
<section id="module-fmu.tools.rms.create_rft_ertobs">
<span id="fmu-tools-rms-create-rft-ertobs-module"></span><h2>fmu.tools.rms.create_rft_ertobs module<a class="headerlink" href="#module-fmu.tools.rms.create_rft_ertobs" title="Link to this heading"></a></h2>
<p>create_rft_ertobs creates txt, obs and welldatefile for usage together
with GENDATA in ERT assisted history match runs.</p>
<p>This script should be run from within RMS to be able to interpolate
along well trajectories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">fmu.tools.rms</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_rft_ertobs</span>

<span class="n">SETUP</span> <span class="o">=</span> <span class="p">{</span><span class="o">...</span><span class="n">yourconfiguration</span><span class="o">...</span><span class="p">}</span>  <span class="c1"># A Python dictionary</span>

<span class="n">create_rft_ertobs</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">SETUP</span><span class="p">)</span>
</pre></div>
</div>
<p>Required keys in the SETUP dictionary:</p>
<ul class="simple">
<li><p>input_file or input_dframe: Path to CSV file with data for wellnames, dates
wellpoint coordinates and pressure values.</p></li>
</ul>
<p>Optional keys:</p>
<ul class="simple">
<li><p>rft_prefix: Eclipse well names will be prefixed with this string</p></li>
<li><p>gridname: Name of grid in RMS project (for verification)</p></li>
<li><p>zonename: Name of zone parameter in RMS grid (if zone names should be
verified)</p></li>
<li><p>welldatefile: Name of welldatefile, written to exportdir.
Defaults to “well_date_rft.txt”</p></li>
</ul>
<p>Result:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">txt</span></code> files written to ert/input/observations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">obs</span></code> files for each well written to ert/input/observations</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">well_date_rft.txt</span></code></p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.check_and_parse_config">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">check_and_parse_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#check_and_parse_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.check_and_parse_config" title="Link to this definition"></a></dt>
<dd><p>Checks config, and returns a validated and defaults-filled config
dictionary</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.get_well_coords">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">get_well_coords</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wellname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trajectory_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Drilled</span> <span class="pre">trajectory'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#get_well_coords"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.get_well_coords" title="Link to this definition"></a></dt>
<dd><p>Extracts  well coordinates as a (wellpoints, 3) numpy array
from a ROXAPI RMS project reference.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – Roxapi project reference.</p></li>
<li><p><strong>wellname</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Name of well as it exists in the RMS project</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.strictly_downward">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">strictly_downward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">coords</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#strictly_downward"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.strictly_downward" title="Link to this definition"></a></dt>
<dd><p>Check if a well trajectory has absolutely no horizontal sections</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>coords</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span>) – n x 4 array of coordinates, only
z values in 4th column is used.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if there are no horizontals.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.interp_from_md">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">interp_from_md</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">md_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cubic'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#interp_from_md"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.interp_from_md" title="Link to this definition"></a></dt>
<dd><p>Function to interpolate East, North, TVD values of a well point
defined by its name (wname) and its corresponding MD point (md_value).</p>
<p>The interpolation of the well trajectory will be linear if linear = True,
using cubic spline otherwise.</p>
<p>The coords input array should consist of rows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">md</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</span></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>x, y and z along the wellpath at requested measured depth value.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.interp_from_xyz">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">interp_from_xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xyz</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cubic'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#interp_from_xyz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.interp_from_xyz" title="Link to this definition"></a></dt>
<dd><p>Interpolate MD value of a well point defined by its name (wellname)
and its corresponding East, North, TVD values (xyz tuple)</p>
<p>The coords input array should consist of rows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">md</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span>
</pre></div>
</div>
<p>The interpolation of the TVD well trajectory will be used
(with linear algorithm if linear = True, using cubic spline otherwise)
if the well is strictly going downward (TVD series stricly increasing).</p>
<p>If the well is horizontal or in a hook shape, a projection of the point
on the well trajectory will be used, using cubic spline interpolation
of the well trajectory points.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>coords</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code></span>)</p></li>
<li><p><strong>xyz</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]</span>) – x, y and z for the coordinate where MD is requested.</p></li>
<li><p><strong>interpolation</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Use either “cubic” (default) or “linear”</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code></span></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Measured depth value at (x,y,z)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.ertobs_df_to_files">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">ertobs_df_to_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exportdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">welldatefile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'well_date_rft.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rft_ertobs.csv'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#ertobs_df_to_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.ertobs_df_to_files" title="Link to this definition"></a></dt>
<dd><p>Exports data from a dataframe into ERT observations files.
The input here is essentially the input dataframe, but where all “holes” in
MD or XYZ have been filled.</p>
<p>If ZONE is included, it will be added to the output.</p>
<p>Gendata will read well_date_rft.txt and then each of the obs and txt files.</p>
<p>Syntax of the output of the .txt files are determined by semeio:
<a class="reference external" href="https://github.com/equinor/semeio/blob/master/semeio/jobs/rft/utility.py#L21">https://github.com/equinor/semeio/blob/master/semeio/jobs/rft/utility.py#L21</a></p>
<p>semeio.jobs.rft.trajectory.load_from_file() will parse the <code class="docutils literal notranslate"><span class="pre">.txt</span></code> files.
<a class="reference external" href="https://github.com/equinor/semeio/blob/master/semeio/jobs/rft/trajectory.py#L273">https://github.com/equinor/semeio/blob/master/semeio/jobs/rft/trajectory.py#L273</a></p>
<p>This function produces such files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">WELL_NAME</span><span class="o">&gt;.</span><span class="n">txt</span>  <span class="c1"># (for all wells)</span>
<span class="o">&lt;</span><span class="n">WELL_NAME</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">REPORT_STEP</span><span class="o">&gt;.</span><span class="n">obs</span>
<span class="n">well_date_rft</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>&lt;wellname&gt;.txt is a hardcoded filename pattern in GENDATA_RFT (semeio)
well_date_rft.txt is supplied as configuration to GENDATA_RFT (semeio)</p>
<p>The obs-files must match the GENERAL_OBSERVATION arguments in the
ERT config.</p>
<p>In the welldatefile, a choice is made by this function on how to
enumerate the REPORTSTEPS parameter, which is to be given to GENDATA in ERT config.
Here it will be constructed on the enumeration of DATE for each given well,
meaning the number will be 1 for the first date for each well, and 2 on the
second DATE pr. well etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dframe</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – Contains data for RFT observations, one
observations pr. row</p></li>
<li><p><strong>exportdir</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Path to directory where export is to happen. Must
exists.</p></li>
<li><p><strong>welldatefile</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Filename to write the “index” of observations to.</p></li>
<li><p><strong>filename</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Filename for raw CSV data, for future use in GENDATA_RFT</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.fill_missing_md_xyz">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">fill_missing_md_xyz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coords_pr_well</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interpolation</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cubic'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#fill_missing_md_xyz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.fill_missing_md_xyz" title="Link to this definition"></a></dt>
<dd><p>Fill missing MD or XYZ values in incoming dataframe, interpolating
in given well trajectories.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dframe</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span>) – Must contain WELL_NAME, EAST, NORTH, MD, TVD</p></li>
<li><p><strong>coords_pr_well</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</span>) – One key for each WELL_NAME, pointing to a n by 3
numpy matrix with well coordinates (as outputted by roxapi)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.store_rft_as_points_inside_project">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">store_rft_as_points_inside_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dframe</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clipboard_folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#store_rft_as_points_inside_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.store_rft_as_points_inside_project" title="Link to this definition"></a></dt>
<dd><p>Store RFT observations for ERT as points in RMS under Clipboard.
The points will be stored per zone, well, and year and will include
useful attributes as pressure, wellname, date etc.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.create_clipboard_points_with_attributes">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">create_clipboard_points_with_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">folder</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#create_clipboard_points_with_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.create_clipboard_points_with_attributes" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_rft_ertobs.main">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.create_rft_ertobs.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/create_rft_ertobs.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_rft_ertobs.main" title="Link to this definition"></a></dt>
<dd><p>The main function to be called from a RMS client python script.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<em>dict</em>) – configuration as a dictionary.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.generate_bw_per_facies">
<span id="fmu-tools-rms-generate-bw-per-facies-module"></span><h2>fmu.tools.rms.generate_bw_per_facies module<a class="headerlink" href="#module-fmu.tools.rms.generate_bw_per_facies" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_bw_per_facies.create_bw_per_facies">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_bw_per_facies.</span></span><span class="sig-name descname"><span class="pre">create_bw_per_facies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bw_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_petro_log_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_log_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_code_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_bw_per_facies.html#create_bw_per_facies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_bw_per_facies.create_bw_per_facies" title="Link to this definition"></a></dt>
<dd><p>Function to be imported and applied in a RMS python job
to create new petrophysical logs from original logs,
but with one log per facies.
All grid blocks for the blocked wells not belonging to the facies
is set to undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Purpose:</dt><dd><p>Create the blocked well logs to be used to condition
petrophysical realizations where all grid cells are
assumed to belong to only one facies. This script will
not modify any of the original logs, only create new logs where only
petrophysical log values for one facies is selected
and all other are set ot undefined.</p>
</dd>
<dt>Input:</dt><dd><p>grid model name,
blocked well set name,
list of original log names to use,
facies log name,
facies code with facies name dictionary</p>
</dd>
<dt>Output:</dt><dd><p>One new petro log per facies per petro variables in the
input list of original log names. The output will be saved in
the given blocked well set specified in the input.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.generate_petro_jobs_for_field_update">
<span id="fmu-tools-rms-generate-petro-jobs-for-field-update-module"></span><h2>fmu.tools.rms.generate_petro_jobs_for_field_update module<a class="headerlink" href="#module-fmu.tools.rms.generate_petro_jobs_for_field_update" title="Link to this heading"></a></h2>
<dl class="simple">
<dt>Description:</dt><dd><p>Implementation of a function to create new petrosim jobs, one per facies
given an existing petrosim job using facies realization as input.</p>
</dd>
</dl>
<p>Summary:</p>
<blockquote>
<div><p>The current script is made to simplify the preparation step of the RMS project by
creating the necessary petrosim jobs for a workflow supporting simultaneous update
of both facies and petrophysical properties in ERT.</p>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.main">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_unused</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.main" title="Link to this definition"></a></dt>
<dd><p>Generate new RMS petrosim jobs from an original petrosim job.</p>
<p>Description
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
<blockquote>
<div><p>This function can be used to generate new petrosim jobs in RMS from an existing
petrosim job. The input (original) petrosim job is assumed to be a job for
either a single zone or multi zone grid where the petrophysical properties
are conditioned to an existing facies realization.
The new generated petrosim jobs will not use facies realization as input,
but assume that all grid cells belongs to the same facies.
Hence, if the original petrosim job specify model parameters for
petrophysical properties conditioned to a facies
realization with N different facies, this script can generate up to N new
petrosim jobs, one per facies the user wants to use in field parameter
updating in ERT.</p>
</div></blockquote>
<p>Input</p>
<blockquote>
<div><p>An existing RMS project with a petrophysical job conditioning petrophysical
properties on an existing facies realization.</p>
<p>A yaml format configuration file specifying necessary input to the function.
This includes name of original petrosim job, grid model name and for each zone
and each facies which petrophysical variables to use in the new petrosim jobs
that are created. It is possible to not use all petrophysical variables in the
original job and this can vary from facies to facies and zone to zone.</p>
</div></blockquote>
<p>Output</p>
<blockquote>
<div><p>A set of new petrosim jobs, one per facies that is specified in at least
one of the zones. For a multi zone grid, each of the new petrosim jobs will
contain specification of the petrophysical properties that is to be modelled
for each zone for a given facies. The new jobs will get a name reflecting which
facies it belongs to.</p>
</div></blockquote>
<p>How to use the new petrosim jobs in the RMS workflow</p>
<blockquote>
<div><p>When initial ensemble is created (ERT iteration = 0)</p>
<blockquote>
<div><p>The RMS workflow should first use the original petrosim job to generate
realizations of petrophysical properties as usual when not all of the
petrophysical properties are going to be used as field parameters in RMS.
If all petrophysical properties are going to be updated as field parameters
in ERT, it is not necessary to do this step.
Add all the new petrosim jobs (one per facies) into the workflow in RMS.
Copy the petrophysical property realizations for each facies from the
geomodel grid into the ERTBOX grid used for field parameter update in ERT.
Export the petrophysical properties for each of the facies to ERT in
ROFF format. Use a script that take as input the facies realization and
the petrophysical properties per facies and use the facies realization
as filter to select which values to copy from the petrophysical realizations
to put into the petrophysical property parameter that was generated by
the original job. This will overwrite the petrophysical properties
in the realization from the original job for those
parameters that are used as field parameters to be updated by ERT.
The other petrophysical parameters generated by the original job but not
used as field parameters in ERT will be untouched.</p>
</div></blockquote>
<p>When updated ensemble is fetched from ERT (ERT iteration &gt; 0):</p>
<blockquote>
<div><p>Run the original petrosim job to generate all petrophysical parameters
in the geogrid. Import the updated field parameters for petrophysical
properties per facies into ERTBOX grid.
Copy the petrophysical property parameters that were updated as
field parameters by ERT into geomodel grid from the ERTBOX grid.
This operation is the same as the last step
when initial ensemble realization was created. This step will then
overwrite the petrophysical property parameters already created by
the original job by the new values updated by ERT. All petrophysical
property parameters not updated as field parameters by ERT will be
untouched and will therefore have the same values as they
had after the original petrosim job was run.</p>
</div></blockquote>
</div></blockquote>
<p>Summary</p>
<blockquote>
<div><p>The current function is made to simplify the preparation step of the
RMS project by creating the necessary petrosim jobs for a workflow
supporting simultaneous update of both facies and petrophysical
properties in ERT.</p>
</div></blockquote>
<p>Usage of this function</p>
<blockquote>
<div><dl class="simple">
<dt>Input</dt><dd><p>Name of config file with specification of which field parameters
to simulate per zone per facies.</p>
</dd>
<dt>Optional parameters</dt><dd><p>debug info (True/False),
report field parameters not used (True/False)</p>
</dd>
<dt>Output</dt><dd><p>A set of new petro sim jobs to appear in RMS project.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.check_rms_project">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">check_rms_project</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#check_rms_project"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.check_rms_project" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.read_specification_file">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">read_specification_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#read_specification_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.read_specification_file" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.check_specification">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">check_specification</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#check_specification"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.check_specification" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.define_new_variable_names_and_correlation_matrix">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">define_new_variable_names_and_correlation_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">orig_var_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_var_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orig_corr_matrix</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#define_new_variable_names_and_correlation_matrix"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.define_new_variable_names_and_correlation_matrix" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.sort_new_var_names">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">sort_new_var_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">original_variable_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_variable_names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#sort_new_var_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.sort_new_var_names" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.get_original_job_settings">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">get_original_job_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#get_original_job_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.get_original_job_settings" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.create_copy_of_job">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">create_copy_of_job</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_job_arguments</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_job_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#create_copy_of_job"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.create_copy_of_job" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.get_zone_names_per_facies">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">get_zone_names_per_facies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">used_petro_per_zone_per_facies_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#get_zone_names_per_facies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.get_zone_names_per_facies" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.get_used_petro_names">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">get_used_petro_names</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">used_petro_per_zone_per_facies_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#get_used_petro_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.get_used_petro_names" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.set_new_var_name">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">set_new_var_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facies_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">petro_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#set_new_var_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.set_new_var_name" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.report_unused_fields">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">report_unused_fields</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_per_zone_per_facies_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#report_unused_fields"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.report_unused_fields" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.check_consistency">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">check_consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_per_zone_per_facies_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_unused</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#check_consistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.check_consistency" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.create_new_petro_job_per_facies">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">create_new_petro_job_per_facies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_unused</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#create_new_petro_job_per_facies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.create_new_petro_job_per_facies" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs_for_field_update.write_petro_job_to_file">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.generate_petro_jobs_for_field_update.</span></span><span class="sig-name descname"><span class="pre">write_petro_job_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">owner_string_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">job_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_petro_jobs_for_field_update.html#write_petro_job_to_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs_for_field_update.write_petro_job_to_file" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.import_localmodules">
<span id="fmu-tools-rms-import-localmodules-module"></span><h2>fmu.tools.rms.import_localmodules module<a class="headerlink" href="#module-fmu.tools.rms.import_localmodules" title="Link to this heading"></a></h2>
<p>Import a local module made inside RMS, and refresh the content.</p>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.import_localmodules.import_localmodule">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.import_localmodules.</span></span><span class="sig-name descname"><span class="pre">import_localmodule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_root_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/import_localmodules.html#import_localmodule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.import_localmodules.import_localmodule" title="Link to this definition"></a></dt>
<dd><p>Import a library module in RMS which exists either inside or outside RMS.</p>
<p>Inside a RMS project it can be beneficial to have a module that serves as a library,
not only a front end script. Several problems exist in current RMS:</p>
<blockquote>
<div><ul class="simple">
<li><p>RMS has no awareness of this ‘PYTHONPATH’, i.e. &lt;project&gt;/pythoncomp</p></li>
<li><p>RMS will, once loaded, not refresh any changes made in the module</p></li>
<li><p>Python requires extension .py, but RMS often adds .py_1 for technical reasons,
which makes it impossible for the end-user to understand why it will not work,
as the ‘instance-name’ (script name inside RMS) and the actual file name will
differ.</p></li>
</ul>
</div></blockquote>
<p>This function solves all these issues, and makes it possible to import a RMS project
library in a much easier way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">fmu.tools</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tools</span>

<span class="c1"># mylib.py is inside the RMS project</span>
<span class="n">plib</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rms</span><span class="o">.</span><span class="n">import_localmodule</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="s2">&quot;mylib&quot;</span><span class="p">)</span>

<span class="n">plib</span><span class="o">.</span><span class="n">somefunction</span><span class="p">(</span><span class="n">some_arg</span><span class="p">)</span>

<span class="c1"># exlib.py is outside the RMS project e,g, at ../lib/exlib.py</span>
<span class="n">elib</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rms</span><span class="o">.</span><span class="n">import_localmodule</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="s2">&quot;exlib&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;../lib&quot;</span><span class="p">)</span>

<span class="n">elib</span><span class="o">.</span><span class="n">someotherfunction</span><span class="p">(</span><span class="n">some_other_arg</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – RMS ‘magic’ project variable</p></li>
<li><p><strong>module_root_name</strong> – A string that is the root name of your module. E.g. if
the module is named ‘blah.py’, the use ‘blah’.</p></li>
<li><p><strong>path</strong> – If None then it will use a module seen from RMS, being technically stored
in pythoncomp folder. If set, then it should be a string for the file path
and load a module stored outside RMS.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.qcreset">
<span id="fmu-tools-rms-qcreset-module"></span><h2>fmu.tools.rms.qcreset module<a class="headerlink" href="#module-fmu.tools.rms.qcreset" title="Link to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.qcreset.set_data_constant">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.qcreset.</span></span><span class="sig-name descname"><span class="pre">set_data_constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/qcreset.html#set_data_constant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.qcreset.set_data_constant" title="Link to this definition"></a></dt>
<dd><p>Set data from RMS constant.</p>
<p>This method is a utility in order to set surface and 3D grid property data
to a given value. The value must be of the correct type (if discrete 3D
property for example). The purpose of it is to make sure that those data
are properly generated by the modelling workflow and not inherited from a
previous run with the corresponding jobs deactivated. The data are set to a
value triggering attention and not deleted in order not to reset some jobs
in RMS.</p>
<p>The input of this method is a Python dictionary with defined keys. The keys
“project” and “value” are required while “horizons”, “zones” and
“grid_models” are optional (at least one of them should be provided for the
method to have any effect).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – The roxar magic keyword <code class="docutils literal notranslate"><span class="pre">project</span></code> refering to the current
RMS project.</p></li>
<li><p><strong>value</strong> – The constant value to assign to the data. It could be 0 or -999
for example. If discrete properties from grid models are modified,
the value should be applicable (integer).</p></li>
<li><p><strong>horizons</strong> – A Python dictionary where each key corresponds to the name of
the horizons category where horizon data need to be modified. The
value associated to this key should be a list of horizon names to
modify. If a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all
available horizon names for this category will be used.
Alternatively, if a list of horizons categories is given instead of
a dictionary, the method will apply to all horizons within these
horizons categories.</p></li>
<li><p><strong>zones</strong> – A Python dictionary where each key corresponds to the name of
the zones category where zone data need to be modified. The value
associated to this key should be a list of zone names to modify. If
a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all available zone
names for this category will be used.
Alternatively, if a list of zones categories is given instead of a
dictionary, the method will apply to all zones within these zones
categories.</p></li>
<li><p><strong>grid_models</strong> – A Python dictionary where each key corresponds to the name
of the grid models where properties need to be modified. The
value associated to this key should be a list of property names to
modify. If a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all
available properties for this grid model name will be used.
Alternatively, if a list of grid models names is given instead of a
dictionary, the method will apply to all properties within these
grid models.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.qcreset.set_data_empty">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.qcreset.</span></span><span class="sig-name descname"><span class="pre">set_data_empty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/qcreset.html#set_data_empty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.qcreset.set_data_empty" title="Link to this definition"></a></dt>
<dd><p>Set data from RMS empty.</p>
<p>This method is a utility in order to set empty surface and 3D grid property
data. The value must be of the correct type (if discrete 3D property for
example). The purpose of it is to make sure that those data are properly
generated by the modelling workflow and not inherited from a previous run
with the corresponding jobs deactivated.</p>
<p>The input of this method is a Python dictionary with defined keys. The keys
“project” and “value” are required while “horizons”, “zones” and
“grid_models” are optional (at least one of them should be provided for the
method to have any effect).</p>
<p>Input configrations:</p>
<dl class="simple">
<dt>project: The roxar magic keyword <code class="docutils literal notranslate"><span class="pre">project</span></code> refering to the current</dt><dd><p>RMS project.</p>
</dd>
<dt>horizons: A Python dictionary where each key corresponds to the name of</dt><dd><p>the horizons category where horizon data need to be made empty. The
value associated to this key should be a list of horizon names to
modify. If a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all
available horizon names for this category will be used.
Alternatively, if a list of horizons categories is given instead of
a dictionary, the method will apply to all horizons within these
horizons categories.</p>
</dd>
<dt>zones: A Python dictionary where each key corresponds to the name of</dt><dd><p>the zones category where zone data need to be made empty. The value
associated to this key should be a list of zone names to modify. If
a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all available zone
names for this category will be used.
Alternatively, if a list of zones categories is given instead of a
dictionary, the method will apply to all zones within these zones
categories.</p>
</dd>
<dt>grid_models: A Python dictionary where each key corresponds to the name</dt><dd><p>of the grid models where properties need to be made empty. The
value associated to this key should be a list of property names to
modify. If a string <code class="docutils literal notranslate"><span class="pre">all</span></code> is assigned instead of a list, all
available properties for this grid model name will be used.
Alternatively, if a list of grid models names is given instead of a
dictionary, the method will apply to all properties within these
grid models.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>config</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code></span>) – Configration as a dictionary. See examples in documentation</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.rename_rms_scripts">
<span id="fmu-tools-rms-rename-rms-scripts-module"></span><h2>fmu.tools.rms.rename_rms_scripts module<a class="headerlink" href="#module-fmu.tools.rms.rename_rms_scripts" title="Link to this heading"></a></h2>
<p>Fix RMS Python script file extensions and gather useful information</p>
<dl class="py class">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.rename_rms_scripts.</span></span><span class="sig-name descname"><span class="pre">PythonCompMaster</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">write</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The PythonCompMaster class parses a .master specific to those
found in an RMS pythoncomp/ directory. These .master files are
structured as so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Begin</span> <span class="n">GEOMATIC</span> <span class="n">header</span>
<span class="n">End</span> <span class="n">GEOMATIC</span> <span class="n">header</span>
<span class="n">Begin</span> <span class="n">ParentParams</span> <span class="nb">object</span>
    <span class="n">PSJParams</span> <span class="nb">object</span>
    <span class="n">PSJParams</span> <span class="nb">object</span>
    <span class="o">...</span>
<span class="n">End</span> <span class="n">ParentParams</span> <span class="nb">object</span>
</pre></div>
</div>
<p>Each PSJParams object points to a Python script, and these objects
are referenced in the root .master file if and when they are
included in a workflow. PSJParams objects are stored like so:</p>
<p>Begin parameter
id                                      = PSJParams
instance_name                           = script_name_in_rms.py
elapsedrealtime                         = 2.5200000405311584e-01
elapsedcputime                          = 0.0000000000000000e+00
tableoffset                             = 0
description.size                        = 0
opentime                                = 2022-12-20 07:18:38:766
identifier                              = 000000…fdbea80000022f
changeuser                              = msfe
changetime                              = 2022-12-20 07:19:32:244
standalonefilename                      = script_name_in_rms.py_1
End parameter</p>
<p>where the</p>
<ul class="simple">
<li><p><cite>instance_name</cite> is the filename displayed in RMS,</p></li>
<li><p><cite>standalonefilename</cite> is the filename as stored on disk,</p></li>
<li><dl class="simple">
<dt><cite>identifier</cite> is a 384-bit string that looks like a hash, but</dt><dd><p>frequently increments by one bit sequentially</p>
</dd>
</dl>
</li>
</ul>
<p>The <cite>instance_name</cite> and <cite>standalonefilename</cite> can become out of
sync, and the <cite>standalonefilename</cite> in particular can frequently be
given a <cite>.py_1</cite> extension rather than a <cite>.py</cite> extension.</p>
<p>This class offers methods to collect and correct these degenerate
filenames.</p>
<dl class="py property">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.parent">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.parent" title="Link to this definition"></a></dt>
<dd><p>Path to the pythoncomp/ directory</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.path">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">path</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.path" title="Link to this definition"></a></dt>
<dd><p>Path to the pythoncomp/.master file</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.header">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">header</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.header" title="Link to this definition"></a></dt>
<dd><p>The dict representing the GEOMATIC header of the .master file.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.entries">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">entries</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.entries" title="Link to this definition"></a></dt>
<dd><p>The list of Python file entries</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_inconsistent_entries">
<span class="sig-name descname"><span class="pre">get_inconsistent_entries</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_inconsistent_entries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_inconsistent_entries" title="Link to this definition"></a></dt>
<dd><p>Inspects all Python entries for Python scripts that have an
<cite>instance_name</cite> that differs from its <cite>standalonefilename</cite>, i.e.
the RMS name does not match the name of the file on disk.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_invalid_extensions">
<span class="sig-name descname"><span class="pre">get_invalid_extensions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_invalid_extensions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_invalid_extensions" title="Link to this definition"></a></dt>
<dd><p>Inspects all Python entries for Python scripts that have a
non-standard file extension (not <cite>.py</cite>) on disk. Frequently this
means they are <cite>.py_1</cite> but other variations exist (or occasionally
there is no file extension at all).</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_invalid_instance_names">
<span class="sig-name descname"><span class="pre">get_invalid_instance_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_invalid_instance_names"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_invalid_instance_names" title="Link to this definition"></a></dt>
<dd><p>Inspects all Python entries for Python scripts that have a
non-standard file extension (not <cite>.py</cite>) in RMS.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_pep8_noncompliant">
<span class="sig-name descname"><span class="pre">get_pep8_noncompliant</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_pep8_noncompliant"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_pep8_noncompliant" title="Link to this definition"></a></dt>
<dd><p>Returns a list of instance names that are not PEP8 compliant.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_nonexistent_standalonefilenames">
<span class="sig-name descname"><span class="pre">get_nonexistent_standalonefilenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_nonexistent_standalonefilenames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_nonexistent_standalonefilenames" title="Link to this definition"></a></dt>
<dd><p>Inspects all Python entries for Python scripts that have a
non-existent file. Assumes the path is up-to-date and correct.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_unused_scripts">
<span class="sig-name descname"><span class="pre">get_unused_scripts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_unused_scripts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_unused_scripts" title="Link to this definition"></a></dt>
<dd><p>Returns a list of Python scripts that aren’t used in any workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_entry">
<span class="sig-name descname"><span class="pre">get_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.get_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.get_entry" title="Link to this definition"></a></dt>
<dd><p>Returns an entry reference by its iname</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.fix_standalone_filenames">
<span class="sig-name descname"><span class="pre">fix_standalone_filenames</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.fix_standalone_filenames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.fix_standalone_filenames" title="Link to this definition"></a></dt>
<dd><p>Attempts to fix the Python files on disk that are inconsistent
with the files in RMS. This fix is rather simple and just copies
the <cite>instance_name</cite> to be the <cite>standalonefilename</cite> under the
presumption that RMS will have prevented someone from making
duplicate instance names. This might be an unreasonable assumption
given the necessity of this script in the first place.</p>
<p>If the names in RMS do not have a Python extension we skip them
rather than try to figure it out.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.PythonCompMaster.write_master_file">
<span class="sig-name descname"><span class="pre">write_master_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#PythonCompMaster.write_master_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.PythonCompMaster.write_master_file" title="Link to this definition"></a></dt>
<dd><p>Writes the fixed .master file out, with a non-optional backup.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.rename_rms_scripts.main">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.rename_rms_scripts.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/rename_rms_scripts.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rename_rms_scripts.main" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.update_petro_real">
<span id="fmu-tools-rms-update-petro-real-module"></span><h2>fmu.tools.rms.update_petro_real module<a class="headerlink" href="#module-fmu.tools.rms.update_petro_real" title="Link to this heading"></a></h2>
<p>Merge petrophysical realizations created individually per facies
into one realization using facies realization as filter</p>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.update_petro_real">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">update_petro_real</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_code_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_real_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_code_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_missing_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#update_petro_real"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.update_petro_real" title="Link to this definition"></a></dt>
<dd><p>Combine multiple petrophysical realizations (one per facies) into one parameter
using facies realization as filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl>
<dt>Description:</dt><dd><p>This function will read petrophysical realization for multiple facies
(where all grid cells have the same facies) and use the facies
realization to combine them into one realization conditioned to facies.</p>
</dd>
<dt>Input:</dt><dd><p>Choose either to use a config file of the same type as for the function
generate_petro_real in fmu.tools.rms or choose to specify the
dictionary defining which petro variables to use as field parameters for
each zone and facies. In the last case also specify grid model
and facies realization name.</p>
<p>If multi zone grid is used, also specify dictionary defining
zone name and zone code and zone parameter name.</p>
</dd>
<dt>Output:</dt><dd><p>Updated version of petrophysical realizations
for the specified petrophysical variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.import_updated_field_parameters">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">import_updated_field_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERTBOX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../..'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#import_updated_field_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.import_updated_field_parameters" title="Link to this definition"></a></dt>
<dd><p>Import ROFF files with field parameters updated by ERT.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Description:</dt><dd><p>This function will import ROFF format files generated by ERT when using
the FIELD keyword in ERT to update petrophysical field parameters.
The naming convention is files with the name of the form:
zonename_faciesname_petrovarname with suffix “.roff”
The files are assumed to be located at the top directory level
where updated fields are written by ERT.</p>
</dd>
<dt>Input:</dt><dd><p>A dictionary specifying which petrophysical variables to use as field parameters
for each facies for each zone.
The grid model name to import the field parameters into (ERTBOX grid).
For singe zone grids, also a name of the zone for the single zone
must be specified.</p>
</dd>
</dl>
<p>The result will be new petrophysical parameters in ERTBOX grid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.export_initial_field_parameters">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">export_initial_field_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERTBOX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../../rms/output/aps'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#export_initial_field_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.export_initial_field_parameters" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Export ROFF files with field parameters simulated by RMS to files to be</dt><dd><p>read by ERT and used as field parameters.</p>
</dd>
<dt>Description:</dt><dd><p>This function will export ROFF format files generated by RMS in workflows
where field parameters are updated by ERT.
The parameter names will be in the format: zonename_faciesname_petroname
and the file names will have extension “.roff”.
The files are assumed to be located in the directory:  rms/output/aps
together with field parameters used by the facies modelling method APS.</p>
</dd>
<dt>Input:</dt><dd><p>A dictionary specifying which petrophysical variables to use as field parameters
for each facies for each zone.
The grid model name to export the field parameters from (ERTBOX grid).
For singe zone grids, also a name of the zone for the single zone must
be specified.</p>
</dd>
</dl>
<p>The result will be files with petrophysical parameters per zone per facies with
size equal to the ERTBOX grid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.combine_petro_real_from_multiple_facies">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">combine_petro_real_from_multiple_facies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_real_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_code_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_code_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_missing_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#combine_petro_real_from_multiple_facies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.combine_petro_real_from_multiple_facies" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.code_per_name">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">code_per_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">code_name_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#code_per_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.code_per_name" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_real.get_petro_var">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.update_petro_real.</span></span><span class="sig-name descname"><span class="pre">get_petro_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#get_petro_var"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.update_petro_real.get_petro_var" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">List</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms.volumetrics">
<span id="fmu-tools-rms-volumetrics-module"></span><h2>fmu.tools.rms.volumetrics module<a class="headerlink" href="#module-fmu.tools.rms.volumetrics" title="Link to this heading"></a></h2>
<p>Module for handling volumetrics text files from RMS</p>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.volumetrics.merge_rms_volumetrics">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.volumetrics.</span></span><span class="sig-name descname"><span class="pre">merge_rms_volumetrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filebase</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rmsrealsuffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'_1'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#merge_rms_volumetrics"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.volumetrics.merge_rms_volumetrics" title="Link to this definition"></a></dt>
<dd><p>Locate, parse and merge multiple volumetrics output files from RMS</p>
<p>Columns in parsed files will be renamed according to the hydrocarbon phase,
which will be deduced from the filenames. Columns will be merged
horizontally on common column names (typically Region, Zone, Facies,
Licence boundary etc.)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filebase</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – Filename base, with absolute or relative path included,
“&lt;filebase&gt;_oil_1.txt”, “&lt;filebase&gt;_gas_1.txt”, etc will be looked for.</p></li>
<li><p><strong>rmsrealsuffix</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></span>) – String that will be used when searching for files. In a
normal FMU context, this should always be kept as the default “_1”.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.volumetrics.rmsvolumetrics_txt2df">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.volumetrics.</span></span><span class="sig-name descname"><span class="pre">rmsvolumetrics_txt2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txtfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnrenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regionrenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zonerenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#rmsvolumetrics_txt2df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.volumetrics.rmsvolumetrics_txt2df" title="Link to this definition"></a></dt>
<dd><p>Parse the volumetrics txt file from RMS as Pandas dataframe</p>
<p>Columns will be renamed according to FMU standard,
<a class="reference external" href="https://wiki.equinor.com/wiki/index.php/FMU_standards">https://wiki.equinor.com/wiki/index.php/FMU_standards</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txtfile</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – path to file emitted by RMS Volumetrics job.
Can also be a Path object.</p></li>
<li><p><strong>columnrenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – dictionary for renaming column. Will be merged
with a default renaming dictionary (anything specified here will
override any defaults)</p></li>
<li><p><strong>phase</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – stating typically ‘GAS’, ‘OIL’ or ‘TOTAL’, signifying
what kind of data is in the file. Will be appended to column names,
and is guessed from filename if not provided.</p></li>
<li><p><strong>outfile</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – filename to write CSV data to.
If directory does not exist, it will be made.</p></li>
<li><p><strong>regionrenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – a function that when applied on strings, return a
new string. If used, will be applied to every region value,
using pandas.Series.apply()</p></li>
<li><p><strong>zonerenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – ditto for the zone column</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
<p>The renamer functions could be defined like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">myregionrenamer</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Equilibrium_region_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or the same using a lambda expression.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.volumetrics.guess_phase">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.volumetrics.</span></span><span class="sig-name descname"><span class="pre">guess_phase</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#guess_phase"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.volumetrics.guess_phase" title="Link to this definition"></a></dt>
<dd><p>From a text-file, guess which phase the text file
concerns, oil, gas or the “total” phase.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>text</strong> (<em>str</em>) – Multiline</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>“OIL”, “GAS” or “TOTAL”</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError if guessing fails.</strong> – </p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.volumetrics.get_parser">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.volumetrics.</span></span><span class="sig-name descname"><span class="pre">get_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#get_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.volumetrics.get_parser" title="Link to this definition"></a></dt>
<dd><p>Set up parser for command line utility</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">ArgumentParser</span></code></span></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.volumetrics.rmsvolumetrics2csv_main">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.volumetrics.</span></span><span class="sig-name descname"><span class="pre">rmsvolumetrics2csv_main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#rmsvolumetrics2csv_main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.volumetrics.rmsvolumetrics2csv_main" title="Link to this definition"></a></dt>
<dd><p>Endpoint for command line utility for converting one file at a time</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-fmu.tools.rms">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-fmu.tools.rms" title="Link to this heading"></a></h2>
<p>Initialize modules for use in RMS</p>
<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.rmsvolumetrics_txt2df">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">rmsvolumetrics_txt2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">txtfile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columnrenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">regionrenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zonerenamer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/volumetrics.html#rmsvolumetrics_txt2df"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.rmsvolumetrics_txt2df" title="Link to this definition"></a></dt>
<dd><p>Parse the volumetrics txt file from RMS as Pandas dataframe</p>
<p>Columns will be renamed according to FMU standard,
<a class="reference external" href="https://wiki.equinor.com/wiki/index.php/FMU_standards">https://wiki.equinor.com/wiki/index.php/FMU_standards</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>txtfile</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Path</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – path to file emitted by RMS Volumetrics job.
Can also be a Path object.</p></li>
<li><p><strong>columnrenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Dict</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – dictionary for renaming column. Will be merged
with a default renaming dictionary (anything specified here will
override any defaults)</p></li>
<li><p><strong>phase</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – stating typically ‘GAS’, ‘OIL’ or ‘TOTAL’, signifying
what kind of data is in the file. Will be appended to column names,
and is guessed from filename if not provided.</p></li>
<li><p><strong>outfile</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]</span>) – filename to write CSV data to.
If directory does not exist, it will be made.</p></li>
<li><p><strong>regionrenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – a function that when applied on strings, return a
new string. If used, will be applied to every region value,
using pandas.Series.apply()</p></li>
<li><p><strong>zonerenamer</strong> (<span class="sphinx_autodoc_typehints-type"><code class="xref py py-data docutils literal notranslate"><span class="pre">Optional</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]</span>) – ditto for the zone column</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-class docutils literal notranslate"><span class="pre">DataFrame</span></code></span></p>
</dd>
</dl>
<p>The renamer functions could be defined like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">myregionrenamer</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;Equilibrium_region_&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>or the same using a lambda expression.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.import_localmodule">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">import_localmodule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_root_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/import_localmodules.html#import_localmodule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.import_localmodule" title="Link to this definition"></a></dt>
<dd><p>Import a library module in RMS which exists either inside or outside RMS.</p>
<p>Inside a RMS project it can be beneficial to have a module that serves as a library,
not only a front end script. Several problems exist in current RMS:</p>
<blockquote>
<div><ul class="simple">
<li><p>RMS has no awareness of this ‘PYTHONPATH’, i.e. &lt;project&gt;/pythoncomp</p></li>
<li><p>RMS will, once loaded, not refresh any changes made in the module</p></li>
<li><p>Python requires extension .py, but RMS often adds .py_1 for technical reasons,
which makes it impossible for the end-user to understand why it will not work,
as the ‘instance-name’ (script name inside RMS) and the actual file name will
differ.</p></li>
</ul>
</div></blockquote>
<p>This function solves all these issues, and makes it possible to import a RMS project
library in a much easier way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">fmu.tools</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tools</span>

<span class="c1"># mylib.py is inside the RMS project</span>
<span class="n">plib</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rms</span><span class="o">.</span><span class="n">import_localmodule</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="s2">&quot;mylib&quot;</span><span class="p">)</span>

<span class="n">plib</span><span class="o">.</span><span class="n">somefunction</span><span class="p">(</span><span class="n">some_arg</span><span class="p">)</span>

<span class="c1"># exlib.py is outside the RMS project e,g, at ../lib/exlib.py</span>
<span class="n">elib</span> <span class="o">=</span> <span class="n">tools</span><span class="o">.</span><span class="n">rms</span><span class="o">.</span><span class="n">import_localmodule</span><span class="p">(</span><span class="n">project</span><span class="p">,</span> <span class="s2">&quot;exlib&quot;</span><span class="p">,</span> <span class="n">path</span><span class="o">=</span><span class="s2">&quot;../lib&quot;</span><span class="p">)</span>

<span class="n">elib</span><span class="o">.</span><span class="n">someotherfunction</span><span class="p">(</span><span class="n">some_other_arg</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>project</strong> – RMS ‘magic’ project variable</p></li>
<li><p><strong>module_root_name</strong> – A string that is the root name of your module. E.g. if
the module is named ‘blah.py’, the use ‘blah’.</p></li>
<li><p><strong>path</strong> – If None then it will use a module seen from RMS, being technically stored
in pythoncomp folder. If set, then it should be a string for the file path
and load a module stored outside RMS.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.generate_petro_jobs">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">generate_petro_jobs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">report_unused</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmu.tools.rms.generate_petro_jobs" title="Link to this definition"></a></dt>
<dd><p>Generate new RMS petrosim jobs from an original petrosim job.</p>
<p>Description
:rtype: <span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
<blockquote>
<div><p>This function can be used to generate new petrosim jobs in RMS from an existing
petrosim job. The input (original) petrosim job is assumed to be a job for
either a single zone or multi zone grid where the petrophysical properties
are conditioned to an existing facies realization.
The new generated petrosim jobs will not use facies realization as input,
but assume that all grid cells belongs to the same facies.
Hence, if the original petrosim job specify model parameters for
petrophysical properties conditioned to a facies
realization with N different facies, this script can generate up to N new
petrosim jobs, one per facies the user wants to use in field parameter
updating in ERT.</p>
</div></blockquote>
<p>Input</p>
<blockquote>
<div><p>An existing RMS project with a petrophysical job conditioning petrophysical
properties on an existing facies realization.</p>
<p>A yaml format configuration file specifying necessary input to the function.
This includes name of original petrosim job, grid model name and for each zone
and each facies which petrophysical variables to use in the new petrosim jobs
that are created. It is possible to not use all petrophysical variables in the
original job and this can vary from facies to facies and zone to zone.</p>
</div></blockquote>
<p>Output</p>
<blockquote>
<div><p>A set of new petrosim jobs, one per facies that is specified in at least
one of the zones. For a multi zone grid, each of the new petrosim jobs will
contain specification of the petrophysical properties that is to be modelled
for each zone for a given facies. The new jobs will get a name reflecting which
facies it belongs to.</p>
</div></blockquote>
<p>How to use the new petrosim jobs in the RMS workflow</p>
<blockquote>
<div><p>When initial ensemble is created (ERT iteration = 0)</p>
<blockquote>
<div><p>The RMS workflow should first use the original petrosim job to generate
realizations of petrophysical properties as usual when not all of the
petrophysical properties are going to be used as field parameters in RMS.
If all petrophysical properties are going to be updated as field parameters
in ERT, it is not necessary to do this step.
Add all the new petrosim jobs (one per facies) into the workflow in RMS.
Copy the petrophysical property realizations for each facies from the
geomodel grid into the ERTBOX grid used for field parameter update in ERT.
Export the petrophysical properties for each of the facies to ERT in
ROFF format. Use a script that take as input the facies realization and
the petrophysical properties per facies and use the facies realization
as filter to select which values to copy from the petrophysical realizations
to put into the petrophysical property parameter that was generated by
the original job. This will overwrite the petrophysical properties
in the realization from the original job for those
parameters that are used as field parameters to be updated by ERT.
The other petrophysical parameters generated by the original job but not
used as field parameters in ERT will be untouched.</p>
</div></blockquote>
<p>When updated ensemble is fetched from ERT (ERT iteration &gt; 0):</p>
<blockquote>
<div><p>Run the original petrosim job to generate all petrophysical parameters
in the geogrid. Import the updated field parameters for petrophysical
properties per facies into ERTBOX grid.
Copy the petrophysical property parameters that were updated as
field parameters by ERT into geomodel grid from the ERTBOX grid.
This operation is the same as the last step
when initial ensemble realization was created. This step will then
overwrite the petrophysical property parameters already created by
the original job by the new values updated by ERT. All petrophysical
property parameters not updated as field parameters by ERT will be
untouched and will therefore have the same values as they
had after the original petrosim job was run.</p>
</div></blockquote>
</div></blockquote>
<p>Summary</p>
<blockquote>
<div><p>The current function is made to simplify the preparation step of the
RMS project by creating the necessary petrosim jobs for a workflow
supporting simultaneous update of both facies and petrophysical
properties in ERT.</p>
</div></blockquote>
<p>Usage of this function</p>
<blockquote>
<div><dl class="simple">
<dt>Input</dt><dd><p>Name of config file with specification of which field parameters
to simulate per zone per facies.</p>
</dd>
<dt>Optional parameters</dt><dd><p>debug info (True/False),
report field parameters not used (True/False)</p>
</dd>
<dt>Output</dt><dd><p>A set of new petro sim jobs to appear in RMS project.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.create_bw_per_facies">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">create_bw_per_facies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bw_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_petro_log_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_log_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_code_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/generate_bw_per_facies.html#create_bw_per_facies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.create_bw_per_facies" title="Link to this definition"></a></dt>
<dd><p>Function to be imported and applied in a RMS python job
to create new petrophysical logs from original logs,
but with one log per facies.
All grid blocks for the blocked wells not belonging to the facies
is set to undefined.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Purpose:</dt><dd><p>Create the blocked well logs to be used to condition
petrophysical realizations where all grid cells are
assumed to belong to only one facies. This script will
not modify any of the original logs, only create new logs where only
petrophysical log values for one facies is selected
and all other are set ot undefined.</p>
</dd>
<dt>Input:</dt><dd><p>grid model name,
blocked well set name,
list of original log names to use,
facies log name,
facies code with facies name dictionary</p>
</dd>
<dt>Output:</dt><dd><p>One new petro log per facies per petro variables in the
input list of original log names. The output will be saved in
the given blocked well set specified in the input.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.update_petro_parameters">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">update_petro_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_code_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facies_real_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_code_names</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_param_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_missing_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmu.tools.rms.update_petro_parameters" title="Link to this definition"></a></dt>
<dd><p>Combine multiple petrophysical realizations (one per facies) into one parameter
using facies realization as filter.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl>
<dt>Description:</dt><dd><p>This function will read petrophysical realization for multiple facies
(where all grid cells have the same facies) and use the facies
realization to combine them into one realization conditioned to facies.</p>
</dd>
<dt>Input:</dt><dd><p>Choose either to use a config file of the same type as for the function
generate_petro_real in fmu.tools.rms or choose to specify the
dictionary defining which petro variables to use as field parameters for
each zone and facies. In the last case also specify grid model
and facies realization name.</p>
<p>If multi zone grid is used, also specify dictionary defining
zone name and zone code and zone parameter name.</p>
</dd>
<dt>Output:</dt><dd><p>Updated version of petrophysical realizations
for the specified petrophysical variables.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.import_updated_field_parameters">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">import_updated_field_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERTBOX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../..'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#import_updated_field_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.import_updated_field_parameters" title="Link to this definition"></a></dt>
<dd><p>Import ROFF files with field parameters updated by ERT.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Description:</dt><dd><p>This function will import ROFF format files generated by ERT when using
the FIELD keyword in ERT to update petrophysical field parameters.
The naming convention is files with the name of the form:
zonename_faciesname_petrovarname with suffix “.roff”
The files are assumed to be located at the top directory level
where updated fields are written by ERT.</p>
</dd>
<dt>Input:</dt><dd><p>A dictionary specifying which petrophysical variables to use as field parameters
for each facies for each zone.
The grid model name to import the field parameters into (ERTBOX grid).
For singe zone grids, also a name of the zone for the single zone
must be specified.</p>
</dd>
</dl>
<p>The result will be new petrophysical parameters in ERTBOX grid.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmu.tools.rms.export_initial_field_parameters">
<span class="sig-prename descclassname"><span class="pre">fmu.tools.rms.</span></span><span class="sig-name descname"><span class="pre">export_initial_field_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">used_petro_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid_model_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ERTBOX'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zone_name_for_single_zone_grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">export_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'../../rms/output/aps'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_print</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/fmu/tools/rms/update_petro_real.html#export_initial_field_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#fmu.tools.rms.export_initial_field_parameters" title="Link to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><span class="sphinx_autodoc_typehints-type"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></span></p>
</dd>
</dl>
<dl class="simple">
<dt>Export ROFF files with field parameters simulated by RMS to files to be</dt><dd><p>read by ERT and used as field parameters.</p>
</dd>
<dt>Description:</dt><dd><p>This function will export ROFF format files generated by RMS in workflows
where field parameters are updated by ERT.
The parameter names will be in the format: zonename_faciesname_petroname
and the file names will have extension “.roff”.
The files are assumed to be located in the directory:  rms/output/aps
together with field parameters used by the facies modelling method APS.</p>
</dd>
<dt>Input:</dt><dd><p>A dictionary specifying which petrophysical variables to use as field parameters
for each facies for each zone.
The grid model name to export the field parameters from (ERTBOX grid).
For singe zone grids, also a name of the zone for the single zone must
be specified.</p>
</dd>
</dl>
<p>The result will be files with petrophysical parameters per zone per facies with
size equal to the ERTBOX grid.</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fmu.tools.qcforward.html" class="btn btn-neutral float-left" title="fmu.tools.qcforward package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fmu.tools.utilities.html" class="btn btn-neutral float-right" title="fmu.tools.utilities package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright Equinor.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>  

  <style>
    /* Sidebar header (and topbar for mobile) */
    .wy-side-nav-search, .wy-nav-top {
      background: #ff1243;
    }
    /* Sidebar */
    .wy-nav-side {
      background: #474747;
    }
    .wy-side-nav-search > div.version {
      color: white;
    }
  </style>


</body>
</html>